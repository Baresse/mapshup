/*
 * mapshup - Webmapping made easy
 * http://mapshup.info
 *
 * Copyright Jérôme Gasperi, 2011.12.08
 *
 * jerome[dot]gasperi[at]gmail[dot]com
 *
 * This software is a computer program whose purpose is a webmapping application
 * to display and manipulate geographical data.
 *
 * This software is governed by the CeCILL-B license under French law and
 * abiding by the rules of distribution of free software.  You can  use,
 * modify and/ or redistribute the software under the terms of the CeCILL-B
 * license as circulated by CEA, CNRS and INRIA at the following URL
 * "http://www.cecill.info".
 *
 * As a counterpart to the access to the source code and  rights to copy,
 * modify and redistribute granted by the license, users are provided only
 * with a limited warranty  and the software's author,  the holder of the
 * economic rights,  and the successive licensors  have only  limited
 * liability.
 *
 * In this respect, the user's attention is drawn to the risks associated
 * with loading,  using,  modifying and/or developing or reproducing the
 * software by the user in light of its specific status of free software,
 * that may mean  that it is complicated to manipulate,  and  that  also
 * therefore means  that it is reserved for developers  and  experienced
 * professionals having in-depth computer knowledge. Users are therefore
 * encouraged to load and test the software's suitability as regards their
 * requirements in conditions enabling the security of their systems and/or
 * data to be ensured and,  more generally, to use and operate it in the
 * same conditions as regards security.
 *
 * The fact that you are presently reading this means that you have had
 * knowledge of the CeCILL-B license and that you accept its terms.
 */
/*********************************************
 * Plugin: CountryPicker
 * 
 * Add a list of country in the East panel
 * Click on a country name zoom the map on it
 *********************************************/
(function(msp) {
    
    msp.Plugins.CountryPicker = function() {
        
        /*
         * Only one CountryPicker object instance is created
         */
        if (msp.Plugins.CountryPicker._o) {
            return msp.Plugins.CountryPicker._o;
        }
        
        /**
         * Initialize plugin
         */
        this.init = function(options) {

            var i,
                l,
                $b,
                id,
                name,
                pn,
                tb,
                firstLetter,
                lastFirstLetter = "",
                self = this;

            /**
             * Init options
             */
            self.options = options || {};
            
            /*
             * Set default options
             */
            $.extend(self.options,
            {
                position:self.options.position || 'ne',
                orientation:self.options.orientation || 'v'
            }
            );

            /*
             * Register CountryPicker action within NorthEast Toolbar triggering East panel 
             */
            tb = new msp.Toolbar(self.options.position, self.options.orientation);
            pn = new msp.Panel('e',{tb:tb});
            self.btn = new msp.Button({
                tb:tb,
                icon:"country.png",
                tt:"Pick a country",
                container:pn.add(), //  AddLayer plugin is displayed within an East msp.Panel
                activable:true,
                scope:self
            });
            
            /*
             * Set the panel container content with the following html structure
             * 
             * <div id="...">
             *      <div class="header"></div>
             *      <div class="body expdbl jstfy">
             *          
             *      </div>
             * </div>
             */
            self.btn.container.$d.html('<div id="'+msp.Util.getId()+'" style="width:'+pn.getInnerDimension().w+'px;"><div class="header">'+msp.Util._("Pick a country")+'</div><div class="body block expdbl jstfy"></div>');

            /*
             * Get body reference
             */
            $b = $('.body', self.btn.container.$d).html('<div class="padded"></div>').children().first();
            
            /*
             * The countries array is already sorted by
             * the name of countries (english language)
             *
             * Thus, the array must be sorted in case we
             * are not in another language
             */
            msp.Util.sortArray(self.countries, "name");
            
            /*
             * Process the country names alphabetically (use the lang property)
             */
            for (i = 0, l = self.countries.length; i < l; i++) {
                name = msp.Util._(self.countries[i].name);
                firstLetter = name.substring(1,0);
                if (firstLetter !== lastFirstLetter) {
                    if (i !== 0) {
                        $b.append('<br/>');
                    }
                    $b.append('<span class="big">'+firstLetter+'</span>');
                    lastFirstLetter = firstLetter;
                }
                else {
                    $b.append('...');
                }
                id = msp.Util.getId();
                $b.append(' <a href="#" id="'+id+'">'+name+'</a> ');
                (function(i,id,self) {
                    $('#'+id).click(function() {
                        $('a', $(this).parent()).removeClass('active');
                        $(this).addClass('active');
                        self.centerOn(i);
                        return false;
                    });
                })(i,id,self);
            }

        };
        
        this.centerOn = function(index) {
            var coords = this.countries[index].bbox.split(','),
                extent = msp.Map.Util.d2p(new OpenLayers.Bounds(coords[0],coords[1],coords[2],coords[3]));
            msp.Map.map.zoomToExtent(extent);
        };

        this.countries = [{
            name:"Afghanistan",
            bbox:"60.5041656494141,29.4061031341553,74.9157485961914,38.4719772338867"
        },

        {
            name:"Albania",
            bbox:"19.288537979126,39.6449928283691,21.0533332824707,42.660343170166"
        },

        {
            name:"Algeria",
            bbox:"-8.66722297668457,18.9763870239258,11.9864749908447,37.0898628234863"
        },

        {
            name:"American Samoa",
            bbox:"-170.8232421875,-14.3755550384521,-170.561859130859,-14.2543067932129"
        },

        {
            name:"Andorra",
            bbox:"1.42138874530792,42.4363822937012,1.78171968460083,42.6559677124023"
        },

        {
            name:"Angola",
            bbox:"11.7312479019165,-18.016393661499,24.0844440460205,-4.388991355896"
        },

        {
            name:"Anguilla",
            bbox:"-63.1677780151367,18.1644439697266,-62.9727058410645,18.272985458374"
        },

        {
            name:"Antarctica",
            bbox:"-180,-90,180,-60.5033340454102"
        },

        {
            name:"Antigua and Barbuda",
            bbox:"-61.89111328125,16.9897174835205,-61.6669425964355,17.7243022918701"
        },

        {
            name:"Argentina",
            bbox:"-73.5822982788086,-55.0516777038574,-53.6500053405762,-21.7805213928223"
        },

        {
            name:"Armenia",
            bbox:"43.4541625976562,38.8411445617676,46.6205368041992,41.2970504760742"
        },

        {
            name:"Aruba",
            bbox:"-70.0596694946289,12.4111089706421,-69.8748550415039,12.6277770996094"
        },

        {
            name:"Australia",
            bbox:"112.907211303711,-54.7538909912109,158.960388183594,-10.1356954574585"
        },

        {
            name:"Austria",
            bbox:"9.5335693359375,46.4074935913086,17.1663875579834,49.0187492370605"
        },

        {
            name:"Azerbaijan",
            bbox:"44.7788581848145,38.3891525268555,50.3749961853027,41.8970565795898"
        },

        {
            name:"Bahamas, The",
            bbox:"-78.9789047241211,20.9152755737305,-72.7388916015625,26.9291648864746"
        },

        {
            name:"Bahrain",
            bbox:"50.4533271789551,25.5719394683838,50.79638671875,26.2888889312744"
        },

        {
            name:"Baker Island",
            bbox:"-176.467666625977,0.21527773141861,-176.455841064453,0.222569391131401"
        },

        {
            name:"Bangladesh",
            bbox:"88.0438690185547,20.7448196411133,92.6693420410156,26.6261405944824"
        },

        {
            name:"Barbados",
            bbox:"-59.6594505310059,13.0505542755127,-59.4270820617676,13.337082862854"
        },

        {
            name:"Belgium",
            bbox:"2.54166650772095,49.5088806152344,6.39820384979248,51.5012512207031"
        },

        {
            name:"Belize",
            bbox:"-89.2164077758789,15.8898506164551,-87.7795867919922,18.4899044036865"
        },

        {
            name:"Benin",
            bbox:"0.776666641235352,6.21872138977051,3.85499978065491,12.3966588973999"
        },

        {
            name:"Bermuda",
            bbox:"-64.8230667114258,32.2605476379395,-64.6768035888672,32.3795127868652"
        },

        {
            name:"Bhutan",
            bbox:"88.7519302368164,26.7036056518555,92.1142196655273,28.3249988555908"
        },

        {
            name:"Bolivia",
            bbox:"-69.6561965942383,-22.9011116027832,-57.5211181640625,-9.67919445037842"
        },

        {
            name:"Bosnia and Herzegovina",
            bbox:"15.7405881881714,42.5658226013184,19.6197872161865,45.2659454345703"
        },

        {
            name:"Botswana",
            bbox:"19.9961090087891,-26.8755588531494,29.3736228942871,-17.7820854187012"
        },

        {
            name:"Bouvet Island",
            bbox:"3.34236073493958,-54.4627876281738,3.48416686058044,-54.3836135864258"
        },

        {
            name:"Brazil",
            bbox:"-74.0045928955078,-33.7411193847656,-34.7929153442383,5.27270841598511"
        },

        {
            name:"British Indian Ocean Territory",
            bbox:"72.3579025268555,-7.43624973297119,72.4942855834961,-7.23347139358521"
        },

        {
            name:"British Virgin Islands",
            bbox:"-64.698486328125,18.3838863372803,-64.3245239257812,18.5048599243164"
        },

        {
            name:"Brunei",
            bbox:"114.095069885254,4.01819372177124,115.36026763916,5.05305433273315"
        },

        {
            name:"Bulgaria",
            bbox:"22.3652744293213,41.2430458068848,28.6051368713379,44.2247161865234"
        },

        {
            name:"Burkina Faso",
            bbox:"-5.52083396911621,9.39569187164307,2.39792537689209,15.0827770233154"
        },

        {
            name:"Burundi",
            bbox:"28.9849967956543,-4.4480562210083,30.8531913757324,-2.30156254768372"
        },

        {
            name:"Byelarus",
            bbox:"23.1653995513916,51.2518463134766,32.740062713623,56.1674919128418"
        },

        {
            name:"Cambodia",
            bbox:"102.346504211426,10.4227390289307,107.636390686035,14.7086181640625"
        },

        {
            name:"Cameroon",
            bbox:"8.50236034393311,1.65416634082794,16.2070045471191,13.085000038147"
        },

        {
            name:"Canada",
            bbox:"-141.002990722656,41.6755523681641,-52.617359161377,83.1138763427734"
        },

        {
            name:"Cape Verde",
            bbox:"-25.3605575561523,14.8111095428467,-22.6661128997803,17.1923599243164"
        },

        {
            name:"Cayman Islands",
            bbox:"-81.4008407592773,19.2649955749512,-81.0930633544922,19.3541660308838"
        },

        {
            name:"Central African Republic",
            bbox:"14.4188871383667,2.22125935554504,27.4597225189209,11.0008325576782"
        },

        {
            name:"Chad",
            bbox:"13.4619426727295,7.45854043960571,24.0027484893799,23.4505558013916"
        },

        {
            name:"Chile",
            bbox:"-109.44612121582,-55.902229309082,-66.4206314086914,-17.505277633667"
        },

        {
            name:"China",
            bbox:"73.6200408935547,18.1688842773438,134.768478393555,53.5537414550781"
        },

        {
            name:"Christmas Island",
            bbox:"105.62899017334,-10.5109701156616,105.751899719238,-10.3840789794922"
        },

        {
            name:"Cocos (Keeling) Islands",
            bbox:"96.8174819946289,-12.199444770813,96.8648452758789,-12.1304159164429"
        },

        {
            name:"Colombia",
            bbox:"-81.7201461791992,-4.23687362670898,-66.8704528808594,12.5902767181396"
        },

        {
            name:"Comoros",
            bbox:"43.2140235900879,-12.383056640625,44.5304145812988,-11.3669443130493"
        },

        {
            name:"Congo",
            bbox:"11.1406602859497,-5.0149974822998,18.6436080932617,3.71111130714417"
        },

        {
            name:"Cook Islands",
            bbox:"-165.848358154297,-21.9408359527588,-157.703765869141,-10.8813180923462"
        },

        {
            name:"Costa Rica",
            bbox:"-85.9113998413086,8.02566909790039,-82.5614013671875,11.2128458023071"
        },

        {
            name:"Croatia",
            bbox:"13.504789352417,42.3999938964844,19.4249973297119,46.535831451416"
        },

        {
            name:"Cuba",
            bbox:"-84.9529342651367,19.8219394683838,-74.1312484741211,23.1940269470215"
        },

        {
            name:"Cyprus",
            bbox:"32.2698554992676,34.6402740478516,34.5860366821289,35.688606262207"
        },

        {
            name:"Czech Republic",
            bbox:"12.0937032699585,48.5813789367676,18.8522205352783,51.0524978637695"
        },

        {
            name:"Denmark",
            bbox:"8.09291458129883,54.561939239502,15.1491661071777,57.7459716796875"
        },

        {
            name:"Djibouti",
            bbox:"41.7598571777344,10.9422197341919,43.4204177856445,12.7083330154419"
        },

        {
            name:"Dominica",
            bbox:"-61.491397857666,15.198055267334,-61.2506942749023,15.6319427490234"
        },

        {
            name:"Dominican Republic",
            bbox:"-72.0030746459961,17.6041660308838,-68.3229217529297,19.9308338165283"
        },

        {
            name:"Ecuador",
            bbox:"-91.6638946533203,-5.00030946731567,-75.2168426513672,1.43777775764465"
        },

        {
            name:"Egypt",
            bbox:"24.7068042755127,21.9941635131836,36.8958282470703,31.6469440460205"
        },

        {
            name:"El Salvador",
            bbox:"-90.1080627441406,13.1563873291016,-87.6946716308594,14.4319829940796"
        },

        {
            name:"Equatorial Guinea",
            bbox:"8.42416572570801,0.930157899856567,11.3538885116577,3.76333355903625"
        },

        {
            name:"Eritrea",
            bbox:"36.4432830810547,12.3638868331909,43.1213874816895,17.9948806762695"
        },

        {
            name:"Estonia",
            bbox:"21.8373546600342,57.522632598877,28.1940937042236,59.6647148132324"
        },

        {
            name:"Ethiopia",
            bbox:"32.9917945861816,3.40666604042053,47.9882431030273,14.8836097717285"
        },

        {
            name:"Falkland Islands (Islas Malvinas)",
            bbox:"-61.1480560302734,-52.3430595397949,-57.7331924438477,-51.2494506835938"
        },

        {
            name:"Faroe Islands",
            bbox:"-7.43347311019897,61.3883285522461,-6.38972282409668,62.3574981689453"
        },

        {
            name:"Federated States of Micronesia",
            bbox:"158.120101928711,5.2616662979126,163.042907714844,6.97763824462891"
        },

        {
            name:"Fiji",
            bbox:"-180,-19.1627788543701,180,-16.153470993042"
        },

        {
            name:"Finland",
            bbox:"19.5113868713379,59.8068008422852,31.5819625854492,70.0886077880859"
        },

        {
            name:"France",
            bbox:"-4.79027891159058,41.3649253845215,9.56222152709961,51.0911140441895"
        },

        {
            name:"French Guiana",
            bbox:"-54.6037864685059,2.1134717464447,-51.6480522155762,5.75541687011719"
        },

        {
            name:"French Polynesia",
            bbox:"-151.497787475586,-17.8708343505859,-138.809753417969,-8.77819538116455"
        },

        {
            name:"French Southern & Antarctic Lands",
            bbox:"51.6508293151855,-49.7250061035156,70.5674896240234,-46.3276405334473"
        },

        {
            name:"Gabon",
            bbox:"8.70083236694336,-3.92527747154236,14.5195827484131,2.3178985118866"
        },

        {
            name:"Gambia, The",
            bbox:"-16.8216686248779,13.0599765777588,-13.7986125946045,13.8263874053955"
        },

        {
            name:"Gaza Strip",
            bbox:"34.2166557312012,31.2165393829346,34.5588912963867,31.596097946167"
        },

        {
            name:"Georgia",
            bbox:"40.0029678344727,41.0480422973633,46.7108154296875,43.584716796875"
        },

        {
            name:"Germany",
            bbox:"5.86499929428101,47.2747192382812,15.0338191986084,55.056526184082"
        },

        {
            name:"Ghana",
            bbox:"-3.24888944625854,4.7270827293396,1.20277774333954,11.1556930541992"
        },

        {
            name:"Gibraltar",
            bbox:"-5.35616874694824,36.1120719909668,-5.33450841903687,36.1633071899414"
        },

        {
            name:"Glorioso Islands",
            bbox:"47.2790908813477,-11.5777778625488,47.303050994873,-11.5540981292725"
        },

        {
            name:"Greece",
            bbox:"19.6399974822998,34.9305458068848,28.2380504608154,41.7477760314941"
        },

        {
            name:"Greenland",
            bbox:"-73.0536117553711,59.7902755737305,-12.1576385498047,83.6236038208008"
        },

        {
            name:"Grenada",
            bbox:"-61.7851829528809,11.9969415664673,-61.5963859558105,12.2371530532837"
        },

        {
            name:"Guadeloupe",
            bbox:"-61.7961158752441,15.8699989318848,-61.1870803833008,16.5129165649414"
        },

        {
            name:"Guam",
            bbox:"144.634155273438,13.2349967956543,144.953323364258,13.6522912979126"
        },

        {
            name:"Guatemala",
            bbox:"-92.2467803955078,13.745831489563,-88.2147369384766,17.8211097717285"
        },

        {
            name:"Guernsey",
            bbox:"-2.66861152648926,49.4224891662598,-2.50097250938416,49.5081977844238"
        },

        {
            name:"Guinea",
            bbox:"-15.0808343887329,7.1939263343811,-7.65336990356445,12.6775007247925"
        },

        {
            name:"Guinea-Bissau",
            bbox:"-16.7177696228027,10.9251022338867,-13.6438903808594,12.6847219467163"
        },

        {
            name:"Guyana",
            bbox:"-61.3897247314453,1.1868748664856,-56.470630645752,8.53527736663818"
        },

        {
            name:"Haiti",
            bbox:"-74.4677963256836,18.0227756500244,-71.6291732788086,20.0914554595947"
        },

        {
            name:"Heard Island & McDonald Islands",
            bbox:"73.2347106933594,-53.1994476318359,73.7738800048828,-52.965145111084"
        },

        {
            name:"Honduras",
            bbox:"-89.3504943847656,12.9851713180542,-83.1318511962891,16.4358329772949"
        },

        {
            name:"Howland Island",
            bbox:"-176.643081665039,0.790277719497681,-176.631088256836,0.80861109495163"
        },

        {
            name:"Hungary",
            bbox:"16.1118030548096,45.7483291625977,22.8948059082031,48.5761795043945"
        },

        {
            name:"Iceland",
            bbox:"-24.5384063720703,63.3899955749512,-13.4994449615479,66.5361099243164"
        },

        {
            name:"India",
            bbox:"68.1442260742188,6.74583196640015,97.3805465698242,35.5056228637695"
        },

        {
            name:"Indonesia",
            bbox:"95.2109375,-10.9296531677246,141.007034301758,5.91347169876099"
        },

        {
            name:"Iran",
            bbox:"44.0349502563477,25.0759677886963,63.3302726745605,39.7791595458984"
        },

        {
            name:"Iraq",
            bbox:"38.7947006225586,29.0616607666016,48.5606880187988,37.383674621582"
        },

        {
            name:"Ireland",
            bbox:"-10.4747247695923,51.4455490112305,-6.01305532455444,55.3799934387207"
        },

        {
            name:"Israel",
            bbox:"34.267578125,29.4867057800293,35.6811065673828,33.2702713012695"
        },

        {
            name:"Italy",
            bbox:"6.62396669387817,36.6491622924805,18.5144443511963,47.0945816040039"
        },

        {
            name:"Ivory Coast",
            bbox:"-8.60638427734375,4.34472179412842,-2.4877781867981,10.7352571487427"
        },

        {
            name:"Jamaica",
            bbox:"-78.3739013671875,17.6972179412842,-76.2211151123047,18.5225009918213"
        },

        {
            name:"Jan Mayen",
            bbox:"-9.11990642547607,70.8038558959961,-7.92851305007935,71.1808166503906"
        },

        {
            name:"Japan",
            bbox:"123.678863525391,24.2513866424561,145.812423706055,45.4863815307617"
        },

        {
            name:"Jarvis Island",
            bbox:"-160.045166015625,-0.398055553436279,-160.009460449219,-0.3743055164814"
        },

        {
            name:"Jersey",
            bbox:"-2.24736142158508,49.1677703857422,-2.01500010490417,49.2611083984375"
        },

        {
            name:"Johnston Atoll",
            bbox:"-169.538955688477,16.7241592407227,-169.52392578125,16.7302722930908"
        },

        {
            name:"Jordan",
            bbox:"34.9604110717773,29.1888885498047,39.3011093139648,33.3775939941406"
        },

        {
            name:"Juan De Nova Island",
            bbox:"42.7238159179688,-17.076114654541,42.7609024047852,-17.0520133972168"
        },

        {
            name:"Kazakhstan",
            bbox:"46.4991607666016,40.5944328308105,87.3482131958008,55.442626953125"
        },

        {
            name:"Kenya",
            bbox:"33.9072189331055,-4.66961812973022,41.9051704406738,4.62249946594238"
        },

        {
            name:"Kiribati",
            bbox:"-157.58171081543,1.70499968528748,-157.172546386719,2.03305435180664"
        },

        {
            name:"Kuwait",
            bbox:"46.5469436645508,28.5388813018799,48.4165878295898,30.0841598510742"
        },

        {
            name:"Kyrgyzstan",
            bbox:"69.2494888305664,39.1954689025879,80.2815933227539,43.2169036865234"
        },

        {
            name:"Laos",
            bbox:"100.091361999512,13.926664352417,107.695259094238,22.4999294281006"
        },

        {
            name:"Latvia",
            bbox:"20.9686031341553,55.6748313903809,28.2359676361084,58.0832595825195"
        },

        {
            name:"Lebanon",
            bbox:"35.100830078125,33.0620803833008,36.6237411499023,34.6475028991699"
        },

        {
            name:"Lesotho",
            bbox:"27.0139713287354,-30.6505298614502,29.4555549621582,-28.5706958770752"
        },

        {
            name:"Liberia",
            bbox:"-11.4923315048218,4.34361028671265,-7.36840295791626,8.51277732849121"
        },

        {
            name:"Libya",
            bbox:"9.31138801574707,19.4990634918213,25.1516647338867,33.1711387634277"
        },

        {
            name:"Liechtenstein",
            bbox:"9.47463703155518,47.0574531555176,9.63388919830322,47.274543762207"
        },

        {
            name:"Lithuania",
            bbox:"20.9428310394287,53.8903388977051,26.8130531311035,56.4498558044434"
        },

        {
            name:"Luxembourg",
            bbox:"5.73444318771362,49.4484672546387,6.52402782440186,50.1818046569824"
        },

        {
            name:"Macau",
            bbox:"113.531661987305,22.1870098114014,113.55443572998,22.2127304077148"
        },

        {
            name:"Macedonia",
            bbox:"20.4588146209717,40.855884552002,23.0309715270996,42.3589515686035"
        },

        {
            name:"Madagascar",
            bbox:"43.2368202209473,-25.5883388519287,50.501392364502,-11.945556640625"
        },

        {
            name:"Malawi",
            bbox:"32.6818656921387,-17.1352825164795,35.920970916748,-9.37666702270508"
        },

        {
            name:"Malaysia",
            bbox:"99.6419372558594,0.852777540683746,119.275825500488,7.35291576385498"
        },

        {
            name:"Maldives",
            bbox:"72.8633804321289,-0.641666769981384,73.6372833251953,7.02777719497681"
        },

        {
            name:"Mali",
            bbox:"-12.2448329925537,10.1421518325806,4.25138902664185,25.0002746582031"
        },

        {
            name:"Malta",
            bbox:"14.3290948867798,35.7999954223633,14.5699996948242,35.9919395446777"
        },

        {
            name:"Man, Isle of",
            bbox:"-4.78715324401855,54.0555458068848,-4.30868053436279,54.416389465332"
        },

        {
            name:"Marshall Islands",
            bbox:"162.324951171875,5.60027647018433,169.971633911133,14.5940256118774"
        },

        {
            name:"Martinique",
            bbox:"-61.2315330505371,14.4027757644653,-60.8169441223145,14.8801393508911"
        },

        {
            name:"Mauritania",
            bbox:"-17.0755577087402,14.7256383895874,-4.80611085891724,27.2904586791992"
        },

        {
            name:"Mauritius",
            bbox:"57.3063125610352,-20.5205593109131,63.4957580566406,-19.6733341217041"
        },

        {
            name:"Mayotte",
            bbox:"45.0391578674316,-12.9925012588501,45.2297210693359,-12.6624994277954"
        },

        {
            name:"Mexico",
            bbox:"-118.404174804688,14.5505466461182,-86.7386169433594,32.7184562683105"
        },

        {
            name:"Midway Islands",
            bbox:"-177.395843505859,28.1841564178467,-177.360549926758,28.2215194702148"
        },

        {
            name:"Moldova",
            bbox:"26.6349925994873,45.4486465454102,30.1287136077881,48.4683265686035"
        },

        {
            name:"Monaco",
            bbox:"7.39090204238892,43.7275428771973,7.43929290771484,43.7682952880859"
        },

        {
            name:"Mongolia",
            bbox:"87.761100769043,41.5866584777832,119.931518554688,52.1427726745605"
        },

        {
            name:"Montenegro",
            bbox:"18.4533290863037,41.8489990234375,20.3790245056152,43.5559730529785"
        },

        {
            name:"Montserrat",
            bbox:"-62.2369499206543,16.67138671875,-62.1388893127441,16.8123607635498"
        },

        {
            name:"Morocco",
            bbox:"-13.1749620437622,27.6642360687256,-1.01180553436279,35.9191665649414"
        },

        {
            name:"Mozambique",
            bbox:"30.2130165100098,-26.8602809906006,40.8461112976074,-10.4711103439331"
        },

        {
            name:"Myanmar (Burma)",
            bbox:"92.2049789428711,9.83958148956299,101.169425964355,28.5465259552002"
        },

        {
            name:"Namibia",
            bbox:"11.7163887023926,-28.9618759155273,25.2644329071045,-16.9541702270508"
        },

        {
            name:"Nauru",
            bbox:"166.904418945312,-0.552222311496735,166.957046508789,-0.49333330988884"
        },

        {
            name:"Nepal",
            bbox:"80.0521926879883,26.3683624267578,88.1945571899414,30.4247188568115"
        },

        {
            name:"Netherlands Antilles",
            bbox:"-69.1636276245117,12.0205535888672,-68.1929168701172,12.3838882446289"
        },

        {
            name:"Netherlands",
            bbox:"3.37086582183838,50.7538795471191,7.21097183227539,53.4658279418945"
        },

        {
            name:"New Caledonia",
            bbox:"163.982727050781,-22.6738910675049,168.130523681641,-20.0879173278809"
        },

        {
            name:"New Zealand",
            bbox:"-176.848770141602,-52.5780563354492,178.841064453125,-34.4147186279297"
        },

        {
            name:"Nicaragua",
            bbox:"-87.689826965332,10.7096872329712,-83.1318511962891,15.0222215652466"
        },

        {
            name:"Niger",
            bbox:"0.166666641831398,11.6932725906372,15.9966659545898,23.5223045349121"
        },

        {
            name:"Nigeria",
            bbox:"2.69249963760376,4.27284669876099,14.6496524810791,13.8914985656738"
        },

        {
            name:"Niue",
            bbox:"-169.952239990234,-19.1455593109131,-169.781539916992,-18.9633312225342"
        },

        {
            name:"Norfolk Island",
            bbox:"167.910934448242,-29.0811138153076,167.998870849609,-29.0005569458008"
        },

        {
            name:"North Korea",
            bbox:"124.323944091797,37.6713790893555,130.69743347168,43.0060997009277"
        },

        {
            name:"Northern Mariana Islands",
            bbox:"145.572677612305,14.9080533981323,145.818099975586,15.2681941986084"
        },

        {
            name:"Norway",
            bbox:"4.78958320617676,57.9879150390625,31.0735397338867,71.1547164916992"
        },

        {
            name:"Oman",
            bbox:"51.9992904663086,16.6427764892578,59.8470840454102,26.3687152862549"
        },

        {
            name:"Pacific Islands (Palau)",
            bbox:"134.485229492188,7.35444307327271,134.658889770508,7.72944355010986"
        },

        {
            name:"Pakistan",
            bbox:"60.8663024902344,23.6880493164062,77.8239288330078,37.0607872009277"
        },

        {
            name:"Panama",
            bbox:"-83.0302963256836,7.20611095428467,-77.1983337402344,9.62013816833496"
        },

        {
            name:"Papua New Guinea",
            bbox:"140.858856201172,-11.6425008773804,155.966842651367,-1.35527777671814"
        },

        {
            name:"Paracel Islands",
            bbox:"111.705848693848,16.4474925994873,112.747215270996,16.9513874053955"
        },

        {
            name:"Paraguay",
            bbox:"-62.6437721252441,-27.5847244262695,-54.243896484375,-19.2968082427979"
        },

        {
            name:"Peru",
            bbox:"-81.3551559448242,-18.3485469818115,-68.6738967895508,-0.0368750020861626"
        },

        {
            name:"Philippines",
            bbox:"116.949989318848,5.04916572570801,126.598045349121,19.3911075592041"
        },

        {
            name:"Pitcairn Islands",
            bbox:"-130.105056762695,-25.0822257995605,-128.286117553711,-24.3258380889893"
        },

        {
            name:"Poland",
            bbox:"14.1476364135742,49.0029106140137,24.1434688568115,54.8360366821289"
        },

        {
            name:"Portugal",
            bbox:"-31.2890300750732,32.6374969482422,-6.1904501914978,42.1506767272949"
        },

        {
            name:"Puerto Rico",
            bbox:"-67.2664031982422,17.9222221374512,-65.3011169433594,18.5194454193115"
        },

        {
            name:"Qatar",
            bbox:"50.7519340515137,24.5560417175293,51.6158294677734,26.1525001525879"
        },

        {
            name:"Reunion",
            bbox:"55.2205505371094,-21.3738899230957,55.8530540466309,-20.8565311431885"
        },

        {
            name:"Romania",
            bbox:"20.2610244750977,43.6233062744141,29.6722202301025,48.2638893127441"
        },

        {
            name:"Russia",
            bbox:"-180,41.1965789794922,180,81.8519287109375"
        },

        {
            name:"Rwanda",
            bbox:"28.8544406890869,-2.8254861831665,30.8932609558105,-1.0544445514679"
        },

        {
            name:"San Marino",
            bbox:"12.4069423675537,43.8986740112305,12.5111103057861,43.9868698120117"
        },

        {
            name:"Sao Tome and Principe",
            bbox:"6.46513843536377,0.0183333307504654,7.46347188949585,1.70124995708466"
        },

        {
            name:"Saudi Arabia",
            bbox:"34.5721473693848,15.616943359375,55.6661109924316,32.1549453735352"
        },

        {
            name:"Senegal",
            bbox:"-17.5327796936035,12.3017473220825,-11.3699312210083,16.6906223297119"
        },

        {
            name:"Serbia",
            bbox:"18.8170204162598,41.8563842773438,23.0049991607666,46.1811141967773"
        },

        {
            name:"Seychelles",
            bbox:"46.2056884765625,-9.46305656433105,55.5405540466309,-4.55166673660278"
        },

        {
            name:"Sierra Leone",
            bbox:"-13.2956104278564,6.92361068725586,-10.2643060684204,9.99749946594238"
        },

        {
            name:"Singapore",
            bbox:"103.640937805176,1.2590274810791,103.997947692871,1.44527745246887"
        },

        {
            name:"Slovakia",
            bbox:"16.8447208404541,47.7374954223633,22.5580539703369,49.600830078125"
        },

        {
            name:"Slovenia",
            bbox:"13.3834705352783,45.4258193969727,16.6078720092773,46.8762512207031"
        },

        {
            name:"Solomon Islands",
            bbox:"155.671295166016,-11.845832824707,166.931854248047,-6.60552024841309"
        },

        {
            name:"Somalia",
            bbox:"40.9886054992676,-1.67486810684204,51.411319732666,11.9791669845581"
        },

        {
            name:"South Africa",
            bbox:"16.4833278656006,-46.9697265625,37.892219543457,-22.1363906860352"
        },

        {
            name:"South Korea",
            bbox:"126.099014282227,33.1922073364258,129.586883544922,38.625244140625"
        },

        {
            name:"South Sandwich Island",
            bbox:"-38.023754119873,-58.4986114501953,-26.2413902282715,-53.9897193908691"
        },

        {
            name:"Spain",
            bbox:"-18.169864654541,27.6374969482422,4.31694412231445,43.7643013000488"
        },

        {
            name:"Spratly Islands",
            bbox:"114.368316650391,9.69972038269043,115.840812683105,10.7315263748169"
        },

        {
            name:"Sri Lanka",
            bbox:"79.6960906982422,5.91805458068848,81.8916702270508,9.82819271087646"
        },

        {
            name:"St. Helena",
            bbox:"-5.79277896881104,-16.0219459533691,-5.64527797698975,-15.9037504196167"
        },

        {
            name:"St. Kitts and Nevis",
            bbox:"-62.8627815246582,17.2088851928711,-62.6225051879883,17.4101390838623"
        },

        {
            name:"St. Lucia",
            bbox:"-61.0795860290527,13.7094430923462,-60.8780555725098,14.1093053817749"
        },

        {
            name:"St. Pierre and Miquelon",
            bbox:"-56.3977813720703,46.7798538208008,-56.2326354980469,47.1358261108398"
        },

        {
            name:"St. Vincent and the Grenadines",
            bbox:"-61.2801475524902,13.130277633667,-61.1202850341797,13.3831930160522"
        },

        {
            name:"Sudan",
            bbox:"21.8291015625,3.49339413642883,38.6074981689453,22.2322196960449"
        },

        {
            name:"Suriname",
            bbox:"-58.0713958740234,1.83624982833862,-53.9861106872559,6.00180530548096"
        },

        {
            name:"Svalbard",
            bbox:"10.4879140853882,74.3430404663086,33.6375007629395,80.76416015625"
        },

        {
            name:"Swaziland",
            bbox:"30.7983322143555,-27.3163909912109,32.1333999633789,-25.7283344268799"
        },

        {
            name:"Sweden",
            bbox:"11.1133327484131,55.3391609191895,24.1670093536377,69.060302734375"
        },

        {
            name:"Switzerland",
            bbox:"5.96701288223267,45.8294372558594,10.488205909729,47.8066673278809"
        },

        {
            name:"Syria",
            bbox:"35.6144599914551,32.3136024475098,42.3783340454102,37.2905464172363"
        },

        {
            name:"Taiwan",
            bbox:"118.278587341309,21.9277725219727,122.00040435791,25.2836112976074"
        },

        {
            name:"Tajikistan",
            bbox:"67.3646926879883,36.6718444824219,75.1874847412109,41.049259185791"
        },

        {
            name:"Tanzania, United Republic of",
            bbox:"29.3408317565918,-11.7404184341431,40.4368171691895,-0.997222244739532"
        },

        {
            name:"Thailand",
            bbox:"97.3472671508789,5.63347101211548,105.639289855957,20.4545783996582"
        },

        {
            name:"Togo",
            bbox:"-0.149762004613876,6.10054540634155,1.79779946804047,11.1385402679443"
        },

        {
            name:"Tokelau",
            bbox:"-171.862731933594,-9.21889019012451,-171.84375,-9.17062568664551"
        },

        {
            name:"Tonga",
            bbox:"-175.360015869141,-21.2680625915527,-173.906814575195,-18.5680561065674"
        },

        {
            name:"Trinidad and Tobago",
            bbox:"-61.9216041564941,10.0403461456299,-60.5208358764648,11.3455543518066"
        },

        {
            name:"Tunisia",
            bbox:"7.49222087860107,30.2343902587891,11.5816659927368,37.3404159545898"
        },

        {
            name:"Turkey",
            bbox:"25.665828704834,35.8184394836426,44.8205451965332,42.109992980957"
        },

        {
            name:"Turkmenistan",
            bbox:"52.4400672912598,35.1459884643555,66.6708831787109,42.7961730957031"
        },

        {
            name:"Turks and Caicos Islands",
            bbox:"-72.0314712524414,21.7397174835205,-71.6336135864258,21.9577770233154"
        },

        {
            name:"Tuvalu",
            bbox:"176.29524230957,-8.56129169464111,179.232284545898,-6.08944416046143"
        },

        {
            name:"Uganda",
            bbox:"29.5743007659912,-1.47611033916473,35.0097198486328,4.22277736663818"
        },

        {
            name:"Ukraine",
            bbox:"22.1514415740967,44.379150390625,40.1787490844727,52.378604888916"
        },

        {
            name:"United Arab Emirates",
            bbox:"51.583324432373,22.6333293914795,56.381664276123,26.0838871002197"
        },

        {
            name:"United Kingdom",
            bbox:"-8.17166709899902,49.9552726745605,1.74944424629211,60.843334197998"
        },

        {
            name:"United States",
            bbox:"-178.216552734375,18.9254779815674,179.775939941406,71.3514404296875"
        },

        {
            name:"Uruguay",
            bbox:"-58.4386177062988,-34.9438209533691,-53.0983009338379,-30.0966663360596"
        },

        {
            name:"Uzbekistan",
            bbox:"55.997486114502,37.184986114502,73.1675567626953,45.5705986022949"
        },

        {
            name:"Vanuatu",
            bbox:"166.521636962891,-20.2541694641113,169.893859863281,-13.7072219848633"
        },

        {
            name:"Venezuela",
            bbox:"-73.3780746459961,0.649166584014893,-59.8030586242676,12.1974983215332"
        },
        {
            name:"Vietnam",
            bbox:"102.140747070312,8.55923461914062,109.46484375,23.3241634368896"
        },
        {
            name:"Virgin Islands",
            bbox:"-64.8961181640625,17.676664352417,-64.5625686645508,17.7924995422363"
        },
        {
            name:"Wake Island",
            bbox:"166.608963012695,19.2794418334961,166.662200927734,19.3245792388916"
        },
        {
            name:"Wallis and Futuna",
            bbox:"-178.190277099609,-14.3238916397095,-176.121917724609,-13.2148609161377"
        },
        {
            name:"West Bank",
            bbox:"34.8881874084473,31.3506908416748,35.5706100463867,32.54638671875"
        },
        {
            name:"Western Sahara",
            bbox:"-17.1015281677246,20.7640953063965,-8.66638851165771,27.6669578552246"
        },
        {
            name:"Western Samoa",
            bbox:"-172.780029296875,-14.057502746582,-171.42919921875,-13.4605550765991"
        },
        {
            name:"Yemen",
            bbox:"42.5559692382812,12.1447219848633,54.4734725952148,18.9993438720703"
        },
        {
            name:"Zaire",
            bbox:"12.2145519256592,-13.4580583572388,31.3027763366699,5.3806939125061"
        },
        {
            name:"Zambia",
            bbox:"21.9963874816895,-18.0749225616455,33.702278137207,-8.1916675567627"
        },
        {
            name:"Zimbabwe",
            bbox:"25.2379150390625,-22.4147663116455,33.0715980529785,-15.6165285110474"
        }];
        
        /*
         * Set unique instance
         */
        msp.Plugins.CountryPicker._o = this;
        
        return this;
        
    };        
})(window.msp);